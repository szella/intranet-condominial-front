<h1 mat-dialog-title>Unidades</h1>

<form [formGroup]="formulario">
  <div mat-dialog-content>
    <table>
      <thead>
        <th>Nome</th>
        <th>Ações</th>
      </thead>
      <tbody>
        <ng-container formArrayName="unidades">
          <tr
            *ngFor="
              let unidade of unidades.controls;
              index as i;
              last as last;
              first as first
            "
          >
            <ng-container [formGroupName]="i">
              <td>
                <div>
                  <input type="text" formControlName="nome" />
                </div>
              </td>
              <td>
                <button
                  type="button"
                  [disabled]="first"
                  (click)="subirUnidade(i)"
                >
                  Sobe
                </button>
                <button
                  type="button"
                  [disabled]="last"
                  (click)="descerUnidade(i)"
                >
                  Desce
                </button>
                <button type="button" (click)="deletarUnidade(i)">
                  Deletar
                </button>
              </td>
            </ng-container>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
  <div mat-dialog-actions>
    <button (click)="fechar()">Fechar</button>
    <button (click)="salvar()">Salvar</button>
    <button (click)="adicionarUnidade()">Adicionar unidade</button>
  </div>
</form>
